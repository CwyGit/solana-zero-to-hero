# 04-Burn指令 - 销毁代币！🔥

嘿，小伙伴！👋

**Burn指令**的作用是：通过将代币从流通中移除来永久销毁代币！

**效果：** 这将减少代币的总供应量！

**比喻说明：** 就像烧钞票，永久减少流通量！

---

## 🎯 前提条件

在我们销毁任何代币之前，我们需要已经拥有：

### 1. Mint账户

✅ 一个已初始化的`Mint`账户

**为什么？** 要知道销毁的是什么代币！

---

### 2. Token账户

✅ 一个`Token`账户或一个`Associated Token`账户

**要求：** 该账户中至少有我们想要销毁的数量！

**比喻：** 就像你要烧钞票，得先有钞票！

---

## ⚠️ 小数位处理

**小伙伴们要特别注意啦：**

> 我们销毁的代币数量是根据小数位数进行"标准化"的！

**什么意思？**

如果我们想销毁1个有6位小数的代币，我们实际上需要将`1_000_000`作为数量输入！

**计算公式：**
```
实际数量 = 显示数量 × 10^小数位数
```

**举例：**
- 小数位：6
- 想销毁：1个代币
- 实际填：1,000,000（1_000_000）

**比喻：** 烧100元纸币，内部记录为烧10000分！

---

## 💻 代码示例

这是CPI到`burn()`指令的样子：

```rust
burn(
    CpiContext::new(
        ctx.accounts.token_program.to_account_info(),
        Burn {
            mint: ctx.accounts.mint.to_account_info(),
            from: ctx.accounts.token_account.to_account_info(),
            authority: ctx.accounts.authority.to_account_info(),
        },
    ),
    &1_000_000,
)?;
```

---

## 📖 代码解析

### CpiContext.new()

**作用：** 创建跨程序调用的上下文

**参数1：** `token_program` - SPL Token程序

---

### Burn结构

**包含3个账户：**

1. **mint** - Mint账户（代币的"出生证明"，供应量会减少）
2. **from** - Token账户（被销毁代币的"口袋"）
3. **authority** - 权限账户（有权销毁的人）

**小伙伴们要特别注意啦：**

> ⚠️ authority必须是from账户的owner或delegate，否则交易失败！

---

### 数量参数

**`&1_000_000`** - 要销毁的数量（已经按小数位标准化）

---

## ❓ 常见问题

### Q1: 销毁后代币去哪了？

**答：** 永久消失了！

**效果：**
- from账户余额减少
- Mint账户的supply减少
- 代币永久从流通中移除

**比喻：** 就像火烧钞票，钱没了，总量也减少了！

---

### Q2: 可以销毁别人的代币吗？

**答：** 不能！除非：
- 你是那个账户的owner
- 或者那个账户授权你为delegate

**比喻：** 不能烧别人的钱！

---

### Q3: 销毁后能恢复吗？

**答：** 不能！销毁是永久的、不可逆的！

**小伙伴们要特别注意啦：**

> ⚠️ 销毁代币前一定要确认，一旦销毁无法恢复！

---

### Q4: 为什么要销毁代币？

**常见原因：**
- **通缩机制** - 减少供应,提高代币价值
- **回购销毁** - 项目买回代币后销毁
- **NFT升级** - 销毁旧的，铸造新的
- **错误纠正** - mint多了，销毁一些

**比喻：** 就像公司回购股票并注销，减少总股本！

---

## 💡 学习建议

### 本章重点回顾

**必须掌握：**
1. ✓ Burn的前提条件
2. ✓ Burn的不可逆性
3. ✓ supply会减少

**了解即可：**
- Burn的应用场景

---

## 🎯 下一步

学完这一章，你应该：

- ✓ 理解Burn的作用
- ✓ 知道销毁代币的后果
- ✓ 能看懂Burn的代码

**准备好了吗？** 下一章我们将学习**Approve和Revoke指令** - 如何授权！

---

**现在小伙伴们懂了吧？** Burn就是"烧钞票"的操作，不可逆！🔥

---

**最后更新**：2026年1月9日  
**制作风格**：莫式风格  
**学习建议**：Burn是永久操作，使用时要非常小心！